scopeName: source.bait
fileTypes: [.bait]

patterns:
  - include: '#comments'
  - include: '#types'
  - include: '#functions'
  - include: '#keywords'
  - include: '#numbers'
  - include: '#strings'
  - include: '#variables'

repository:
  comments:
    name: comment.line.double-slash
    begin: //
    end: $

  functions:
    patterns:
      - name: meta.function.definition
        begin: ^(fun)\s*(?:\((\w+)\s*(\w+)\))?
        beginCaptures:
          1:
            name: keyword.fun
          2:
            name: variable.parameter
          3:
            name: support.type
        end: (\w+)\s*\(
        endCaptures:
          1:
            name: entity.name.function
      - name: meta.function.call
        match: (\w+)\(
        captures:
          1:
            name: entity.name.function

  keywords:
    patterns:
      - name: keyword.other
        match: \b(assert|const|import|package|struct)\b
      - name: keyword.control
        match: \b(else|for|if|return)\b
      - name: keyword.operator
        match: \b(and|or)\b
      - name: constant.language
        match: \b(false|true)\b

  numbers:
    name: constant.numeric
    match: -?\d+

  strings:
    patterns:
      - name: string.quoted.single
        begin: "'"
        end: "'"
      - name: string.other.byte
        begin: "`"
        end: "`"

  types:
    name: support.type
    match: \b(bool|byte|i(8|16|32|64)|string|void)\b

  variables:
    name: variable.other
    match: \b[a-z][a-z0-9_]*\b
